<nav class="navbar navbar-expand-lg navbar-light bg-custom">
  <%= link_to "Alpha blog", root_path, class: "navbar-brand", id: "kt-logo" %>
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li>
        <%= link_to "Users", users_path, class: "nav-link" %>
      </li>

      <li>
        <%= link_to "Articles", articles_path, class: "nav-link" %>
      </li>

      <div class="btn-group" role="group" aria-label="Button group with nested dropdown">
          <div class="btn-group" role="group" style="margin: 5px;">
            <button id="btnGroupDrop1" type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Categories
            </button>
            <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">
              <% if logged_in? and current_user.admin? %>
                <li role="separator" class="divider"></li>
                <%= link_to "Create new Category", new_category_path, class: 'dropdown-item', style: 'color:red;' %>
              <% end %>
              <%= link_to "All Categories", categories_path , class: "dropdown-item" %>
              <% Category.all.each do |category| %>
                  <%= link_to "#{category.name}", category_path(category),class: "dropdown-item" %>
              <% end %>
            </div>
          </div>
      </div>
    </ul>
    <div class="btn-group" role="group" aria-label="Button group with nested dropdown">
      <% if logged_in? %>
        <div class="btn-group" role="group" style="margin: 5px;">
          <button id="btnGroupDrop1" type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Dropdown
          </button>
          <div class="dropdown-menu" aria-labelledby="btnGroupDrop1">
            <%= link_to "View your profile", user_path(current_user) , class: "dropdown-item"%>
            <%= link_to "Edit your profile", edit_user_path(current_user) ,class: "dropdown-item" %>
          </div>
        </div>
        <%= link_to 'Log out', logout_path, method: :delete, class: "btn btn-outline-danger my-2 my-sm-0", style: "margin: 5px;" %>
      <% else %>
        <%= link_to 'Log in', login_path, method: :get, class: "btn btn-outline-success my-2 my-sm-0", style: "margin: 5px;" %>
        <%= link_to 'Sign up', signup_path, method: :get, class: "btn btn-outline-info my-2 my-sm-0", style: "margin: 5px;" %>
      <% end %>
    </div>
  </div>
</nav>